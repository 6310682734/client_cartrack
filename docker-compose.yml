version: '3'
services:
  web:
    image: python:3.9-slim-buster
    working_dir: /app
    volumes:
      - .:/app
    ports:
      - "3001:3001"
    environment:
      PYTHONUNBUFFERED: 1
      DJANGO_SUPERUSER_USERNAME: "admin"
      DJANGO_SUPERUSER_PASSWORD: "admin"
      DJANGO_SUPERUSER_EMAIL: "admin@admin.com"
    command: sh -c "pip install -r requirements.txt && python manage.py migrate && python manage.py createsuperuser --noinput && python manage.py runserver"